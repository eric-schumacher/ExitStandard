<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>3D-Schrankskizze</title>
<style>
  body { margin: 0; overflow: hidden; }
  #ui { position: absolute; top: 1rem; left: 1rem; z-index: 10; }
  button { padding: .5rem 1rem; font-size: 1rem; }
</style>
</head>
<body>
<div id="ui">
  <button id="toggle">Explodieren</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/three@0.162.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.162.0/examples/js/controls/OrbitControls.js"></script>
<script>
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({antialias: true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

const controls = new THREE.OrbitControls ? new THREE.OrbitControls(camera, renderer.domElement) : null;
if(controls) controls.enableDamping = true;

camera.position.set(3,3,6);
scene.add(new THREE.AmbientLight(0xffffff, 0.7));
const dirLight = new THREE.DirectionalLight(0xffffff, 0.5);
dirLight.position.set(5,10,7);
scene.add(dirLight);

const material = new THREE.MeshLambertMaterial({color: 0xd9b38c});

const parts = {
  left: new THREE.Mesh(new THREE.BoxGeometry(0.2,2,1), material),
  right: new THREE.Mesh(new THREE.BoxGeometry(0.2,2,1), material),
  top: new THREE.Mesh(new THREE.BoxGeometry(1.4,0.2,1), material),
  bottom: new THREE.Mesh(new THREE.BoxGeometry(1.4,0.2,1), material),
  back: new THREE.Mesh(new THREE.BoxGeometry(1.4,2,0.1), material),
  shelf1: new THREE.Mesh(new THREE.BoxGeometry(1.4,0.2,1), material),
  shelf2: new THREE.Mesh(new THREE.BoxGeometry(1.4,0.2,1), material)
};

parts.left.position.set(-0.8,0,0);
parts.right.position.set(0.8,0,0);
parts.top.position.set(0,0.9,0);
parts.bottom.position.set(0,-0.9,0);
parts.back.position.set(0,0,-0.45);
parts.shelf1.position.set(0,0.3,0);
parts.shelf2.position.set(0,-0.3,0);

for(const p in parts) scene.add(parts[p]);

let exploded = false;
function explode(){
  const offs = 1.2;
  parts.left.position.x = exploded ? -0.8 : -0.8 - offs;
  parts.right.position.x = exploded ? 0.8 : 0.8 + offs;
  parts.top.position.y = exploded ? 0.9 : 0.9 + offs;
  parts.bottom.position.y = exploded ? -0.9 : -0.9 - offs;
  parts.back.position.z = exploded ? -0.45 : -0.45 - offs;
  parts.shelf1.position.z = exploded ? 0 : offs;
  parts.shelf2.position.z = exploded ? 0 : -offs;
  exploded = !exploded;
  document.getElementById('toggle').textContent = exploded ? 'Zusammenf√ºgen' : 'Explodieren';
}

document.getElementById('toggle').addEventListener('click', explode);

function animate(){
  requestAnimationFrame(animate);
  if(controls) controls.update();
  renderer.render(scene, camera);
}
animate();
</script>
</body>
</html>
